<!DOCTYPE html>
<html>
  <head>
    <title>SOLUSDT Live Chart</title>
    <style>
      body {
        margin: 0;
      }

      .responsive-widget-container {
        width: 100%;
        height: calc(100vh - 30px); /* Initial assumption of ticker height */
        max-width: 100%;
      }

      .tradingview-widget-container,
      .tradingview-widget-container__widget {
        width: 100% !important;
        height: 100% !important;
      }

      @media (max-width: 600px) {
        .responsive-widget-container {
          height: calc(100vh - 30px); /* Adjust for smaller screens */
        }
      }

      #crypto-ticker-bar {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background: black;
        color: #00FFAA;
        font-family: sans-serif;
        font-size: 18px;
        overflow: hidden;
        z-index: 9999;
        white-space: nowrap;
      }

      .crypto-ticker {
        display: inline-block;
        margin-right: 20px;
      }

      .crypto-ticker span {
        margin-left: 5px;
      }

      .up {
        color: green;
      }

      .down {
        color: red;
      }
    </style>
  </head>

  <body>
    <!-- TradingView Widget -->
    <div class="responsive-widget-container">
      <div class="tradingview-widget-container">
        <div class="tradingview-widget-container__widget"></div>
        <div class="tradingview-widget-copyright">
          <a href="https://www.tradingview.com/" rel="noopener nofollow" target="_blank">
            <span class="blue-text">Track all markets on TradingView</span>
          </a>
        </div>
        <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js" async>
        {
          "autosize": true,
          "symbol": "BINANCE:SOLUSDT",
          "interval": "60",
          "timezone": "America/Chicago",
          "theme": "dark",
          "style": "9",
          "locale": "en",
          "allow_symbol_change": true,
          "studies": [
            "STD;Smoothed%1Moving%1Average",
            "STD;Stochastic_RSI"
          ],
          "support_host": "https://www.tradingview.com"
        }
        </script>
      </div>
    </div>
    <!-- TradingView Widget End -->

    <!-- Crypto Ticker Bar -->
    <div id="crypto-ticker-bar">
      <marquee behavior="scroll" direction="left" scrollamount="3" id="ticker">
        Loading crypto data...
      </marquee>
    </div>

    <!-- Fetch and Display Crypto Data -->
    <script>
      // Function to fetch crypto data
      async function fetchCryptoData() {
        try {
          const response = await fetch('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&ids=bitcoin,ethereum,solana,cardano,ripple,litecoin&order=market_cap_desc&per_page=5&page=1');
          const data = await response.json();

          const tickerContainer = document.getElementById('ticker');
          tickerContainer.innerHTML = ''; // Clear existing content

          data.forEach(coin => {
            const coinElement = document.createElement('div');
            coinElement.classList.add('crypto-ticker');

            // Set ticker text
            const price = coin.current_price.toFixed(2);
            const change = coin.price_change_percentage_24h.toFixed(2);
            const changeClass = change >= 0 ? 'up' : 'down'; // Green for up, red for down

            coinElement.innerHTML = `
              <span>${coin.name} ($${price})</span>
              <span class="${changeClass}">(${change}%)</span>
            `;

            tickerContainer.appendChild(coinElement);
          });
        } catch (error) {
          console.error('Error fetching crypto data:', error);
        }
      }

      // Fetch the data when the page loads
      window.addEventListener('load', fetchCryptoData);
    </script>

  </body>
</html>
